<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>å¿ƒé‡ XinYou - Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <style>
    * {
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", "Microsoft JhengHei", sans-serif;
      background: #f5f5f7;
      color: #111827;
    }

    /* é ‚éƒ¨å°èˆªåˆ— */
    .top-bar {
      position: sticky;
      top: 0;
      z-index: 20;
      height: 52px;
      padding: 0 14px;
      background: #ffffff;
      border-bottom: 0.5px solid #e5e7eb;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .top-bar-inner {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }
    .top-title {
      font-size: 17px;
      font-weight: 600;
    }
    .top-right {
      position: absolute;
      right: 0;
      top: 50%;
      transform: translateY(-50%);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .icon-button {
      width: 28px;
      height: 28px;
      border-radius: 999px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      background: transparent;
      cursor: pointer;
    }
    .icon-gear {
      width: 18px;
      height: 18px;
      opacity: 0.7;
    }

    /* ä¸»å…§å®¹é  */
    .page {
      display: none;
      padding-bottom: 64px;
    }
    .page.active {
      display: block;
    }

    /* å…±ç”¨å¡ç‰‡æ¨£å¼ */
    .card {
      background: #ffffff;
      border-radius: 14px;
      box-shadow: 0 1px 3px rgba(15, 23, 42, 0.06);
    }

    /* äººå€‘é ï¼š2x3 å¡ç‰‡ç¶²æ ¼ */
    .people-wrapper {
      padding: 10px 12px 4px;
    }
    .people-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px;
    }
    .people-card {
      border-radius: 14px;
      overflow: hidden;
      background: #ffffff;
      box-shadow: 0 1px 3px rgba(15, 23, 42, 0.08);
      cursor: pointer;
      display: flex;
      flex-direction: column;
    }
    .people-photo {
      width: 100%;
      padding-top: 120%;
      position: relative;
      background: #e5e7eb;
      overflow: hidden;
    }
    .people-photo img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .people-info {
      padding: 6px 8px 8px;
    }
    .people-name-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .people-name {
      font-size: 14px;
      font-weight: 600;
    }
    .people-age {
      font-size: 11px;
      color: #6b7280;
    }
    .people-desc {
      font-size: 11px;
      color: #6b7280;
      margin-top: 3px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .pager {
      display: flex;
      justify-content: center;
      padding: 8px 0 4px;
    }
    .pager-btn {
      border-radius: 999px;
      border: 1px solid #d1d5db;
      background: #ffffff;
      padding: 5px 14px;
      font-size: 12px;
      cursor: pointer;
      color: #374151;
    }
    .pager-btn:hover {
      background: #f3f4f6;
    }

    /* ç‹€æ…‹ Badge å…±ç”¨ */
    .status-badge {
      font-size: 11px;
      padding: 2px 7px;
      border-radius: 999px;
      background: #e5f9e7;
      color: #16a34a;
      display: inline-flex;
      align-items: center;
      gap: 3px;
    }
    .status-dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background: #22c55e;
    }
    .status-busy {
      background: #fef9c3;
      color: #ca8a04;
    }
    .status-busy .status-dot {
      background: #eab308;
    }
    .status-away {
      background: #e5e7eb;
      color: #4b5563;
    }
    .status-away .status-dot {
      background: #6b7280;
    }
    .status-eating {
      background: #fee2e2;
      color: #b91c1c;
    }
    .status-eating .status-dot {
      background: #dc2626;
    }
    .status-shower {
      background: #e0f2fe;
      color: #0369a1;
    }
    .status-shower .status-dot {
      background: #0284c7;
    }

    /* è©³ç´°æª”æ¡ˆé  */
    .profile-header {
      padding: 12px 14px;
      background: #ffffff;
      border-bottom: 0.5px solid #e5e7eb;
    }
    .profile-row-main {
      display: flex;
      align-items: center;
    }
    .profile-avatar {
      width: 64px;
      height: 64px;
      border-radius: 18px;
      overflow: hidden;
      margin-right: 12px;
      background: #e5e7eb;
      flex-shrink: 0;
    }
    .profile-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .profile-name {
      font-size: 18px;
      font-weight: 600;
    }
    .profile-sub {
      margin-top: 2px;
      font-size: 13px;
      color: #6b7280;
    }
    .profile-actions {
      margin-top: 10px;
      display: flex;
      justify-content: flex-end;
      gap: 8px;
    }
    .btn {
      border-radius: 10px;
      border: 1px solid #d1d5db;
      padding: 5px 10px;
      font-size: 13px;
      background: #f9fafb;
      cursor: pointer;
    }
    .btn-primary {
      border-color: #3b82f6;
      background: #3b82f6;
      color: #ffffff;
    }

    .section {
      margin-top: 10px;
      background: #ffffff;
      border-top: 0.5px solid #e5e7eb;
      border-bottom: 0.5px solid #e5e7eb;
    }
    .section-title {
      padding: 8px 14px;
      font-size: 14px;
      font-weight: 600;
      color: #374151;
      border-bottom: 0.5px solid #f3f4f6;
    }
    .photos-row {
      display: flex;
      gap: 8px;
      padding: 8px 14px 12px;
    }
    .photo-thumb {
      width: 66px;
      height: 66px;
      border-radius: 12px;
      overflow: hidden;
      background: #e5e7eb;
    }
    .photo-thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .info-table {
      width: 100%;
      border-collapse: collapse;
    }
    .info-table tr {
      border-bottom: 0.5px solid #f3f4f6;
    }
    .info-key {
      width: 80px;
      padding: 8px 14px;
      font-size: 13px;
      color: #6b7280;
    }
    .info-value {
      padding: 8px 14px 8px 0;
      font-size: 13px;
    }
    .diary-list {
      padding: 6px 14px 10px;
    }
    .diary-item {
      padding: 6px 0;
      border-bottom: 0.5px dashed #e5e7eb;
      font-size: 13px;
    }
    .diary-item:last-child {
      border-bottom: none;
    }
    .diary-date {
      font-size: 11px;
      color: #9ca3af;
      margin-bottom: 2px;
    }

    /* å¥½å‹é  */
    .tabs-row {
      display: flex;
      background: #ffffff;
      border-bottom: 0.5px solid #e5e7eb;
    }
    .tab-btn {
      flex: 1;
      text-align: center;
      padding: 8px 0;
      font-size: 13px;
      cursor: pointer;
      color: #6b7280;
    }
    .tab-btn.active {
      color: #2563eb;
      border-bottom: 2px solid #2563eb;
      font-weight: 600;
    }
    .list {
      list-style: none;
      margin: 0;
      padding: 0;
      background: #ffffff;
    }
    .list-item {
      display: flex;
      padding: 10px 14px;
      border-bottom: 0.5px solid #f0f0f0;
      cursor: pointer;
    }
    .avatar {
      width: 44px;
      height: 44px;
      border-radius: 14px;
      overflow: hidden;
      margin-right: 10px;
      background: #e5e7eb;
      flex-shrink: 0;
    }
    .avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .item-main {
      flex: 1;
      min-width: 0;
    }
    .item-row1 {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .item-row1-left {
      display: flex;
      align-items: center;
      gap: 4px;
    }
    .item-name {
      font-size: 15px;
      font-weight: 600;
    }
    .item-mood {
      font-size: 16px;
    }
    .item-row2 {
      margin-top: 2px;
      font-size: 12px;
      color: #6b7280;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .item-row3 {
      margin-top: 2px;
      font-size: 11px;
      color: #4b5563;
    }
    .item-row3 span.label {
      color: #9ca3af;
      margin-right: 2px;
    }
    .status-inline {
      margin-left: 4px;
    }

    /* èŠå¤©é  */
    .chat-wrapper {
      display: flex;
      flex-direction: column;
      height: calc(100vh - 52px - 56px);
      background: #e5e7eb;
    }
    .chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 8px 10px 4px;
    }
    .bubble-row {
      display: flex;
      margin-bottom: 6px;
    }
    .bubble-row.me {
      justify-content: flex-end;
    }
    .bubble {
      max-width: 72%;
      padding: 8px 10px;
      border-radius: 18px;
      font-size: 13px;
      line-height: 1.4;
    }
    .bubble.them {
      background: #ffffff;
      border: 0.5px solid #e5e7eb;
    }
    .bubble.me {
      background: #4ade80;
    }
    .chat-input-bar {
      display: flex;
      padding: 6px 8px;
      background: #f9fafb;
      border-top: 0.5px solid #e5e7eb;
    }
    .chat-input {
      flex: 1;
      border-radius: 999px;
      border: 1px solid #d1d5db;
      padding: 6px 12px;
      font-size: 13px;
      outline: none;
      background: #ffffff;
    }
    .chat-send-btn {
      margin-left: 6px;
      padding: 6px 12px;
      font-size: 13px;
      border-radius: 999px;
      border: none;
      background: #3b82f6;
      color: #fff;
      cursor: pointer;
    }

    /* æˆ‘çš„æª”æ¡ˆé  */
    .my-section-note {
      font-size: 12px;
      color: #6b7280;
      padding: 0 14px 10px;
    }
    .form-list {
      margin-top: 10px;
      background: #ffffff;
      border-top: 0.5px solid #e5e7eb;
      border-bottom: 0.5px solid #e5e7eb;
    }
    .form-row {
      padding: 10px 14px;
      border-bottom: 0.5px solid #f3f4f6;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 13px;
    }
    .form-row:last-child {
      border-bottom: none;
    }
    .form-label {
      color: #374151;
    }
    .form-value {
      color: #6b7280;
    }
    .toggle {
      width: 38px;
      height: 22px;
      border-radius: 999px;
      background: #e5e7eb;
      position: relative;
      cursor: pointer;
    }
    .toggle-knob {
      position: absolute;
      top: 2px;
      left: 2px;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: #ffffff;
      box-shadow: 0 1px 2px rgba(0,0,0,0.2);
      transition: all 0.16s ease;
    }
    .toggle.on {
      background: #22c55e;
    }
    .toggle.on .toggle-knob {
      left: 18px;
    }

    select, textarea {
      font-size: 12px;
      padding: 4px 6px;
      border-radius: 6px;
      border: 1px solid #d1d5db;
      background: #f9fafb;
      width: 100%;
      outline: none;
    }
    textarea {
      resize: vertical;
      min-height: 60px;
    }

    /* æ’è¡Œæ¦œ */
    .rank-wrapper {
      padding: 8px 10px 12px;
    }
    .rank-tabs {
      display: flex;
      background: #ffffff;
      border-radius: 999px;
      padding: 3px;
      margin: 4px 10px 10px;
      box-shadow: 0 1px 3px rgba(15, 23, 42, 0.06);
    }
    .rank-tab {
      flex: 1;
      text-align: center;
      font-size: 12px;
      padding: 4px 0;
      border-radius: 999px;
      cursor: pointer;
      color: #6b7280;
    }
    .rank-tab.active {
      background: #111827;
      color: #f9fafb;
      font-weight: 600;
    }
    .rank-pyramid-card {
      padding: 10px 10px 12px;
    }
    .rank-row {
      display: flex;
      justify-content: center;
      margin-bottom: 8px;
      gap: 10px;
    }
    .rank-badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 11px;
      background: #fef3c7;
      color: #92400e;
    }
    .rank-badge span.icon {
      font-size: 14px;
    }
    .rank-card {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    .rank-avatar-wrap {
      border-radius: 999px;
      padding: 2px;
      background: linear-gradient(135deg, #fbbf24, #f97316);
      box-shadow: 0 0 0 2px rgba(251, 191, 36, 0.4);
    }
    .rank-avatar-wrap.king {
      padding: 3px;
      box-shadow: 0 0 0 2px rgba(250, 204, 21, 0.6);
    }
    .rank-avatar {
      width: 60px;
      height: 60px;
      border-radius: 999px;
      overflow: hidden;
      background: #e5e7eb;
    }
    .rank-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .rank-avatar.medium {
      width: 46px;
      height: 46px;
    }
    .rank-avatar.small {
      width: 38px;
      height: 38px;
    }
    .rank-name {
      font-size: 12px;
      font-weight: 600;
      margin-top: 4px;
    }
    .rank-sub {
      font-size: 11px;
      color: #6b7280;
    }
    .rank-list {
      margin-top: 8px;
      background: #ffffff;
      border-radius: 14px;
      overflow: hidden;
      border: 0.5px solid #e5e7eb;
    }
    .rank-list-item {
      display: flex;
      align-items: center;
      padding: 8px 12px;
      border-bottom: 0.5px solid #f3f4f6;
      font-size: 12px;
    }
    .rank-list-item:last-child {
      border-bottom: none;
    }
    .rank-pos {
      width: 22px;
      color: #6b7280;
    }
    .rank-list-avatar {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      overflow: hidden;
      background: #e5e7eb;
      margin-right: 8px;
      flex-shrink: 0;
    }
    .rank-list-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .rank-list-main {
      flex: 1;
      min-width: 0;
    }
    .rank-list-name {
      font-weight: 500;
    }
    .rank-list-sub {
      font-size: 11px;
      color: #9ca3af;
    }
    .rank-score {
      font-size: 11px;
      color: #4b5563;
    }

    .rank-note {
      margin-top: 8px;
      font-size: 11px;
      color: #6b7280;
      padding: 0 4px;
      text-align: center;
    }

    /* åº•éƒ¨å°è¦½åˆ— */
    .bottom-nav {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      height: 56px;
      background: #ffffff;
      border-top: 0.5px solid #e5e7eb;
      display: flex;
      justify-content: space-around;
      align-items: center;
      z-index: 20;
    }
    .nav-item {
      flex: 1;
      text-align: center;
      font-size: 11px;
      color: #9ca3af;
      cursor: pointer;
    }
    .nav-item span {
      display: block;
    }
    .nav-icon-img {
      width: 22px;
      height: 22px;
      display: block;
      margin: 0 auto 2px auto;
      object-fit: contain;
      opacity: 0.85;
    }
    .nav-item.active {
      color: #2563eb;
    }
    .nav-item.active .nav-icon-img {
      opacity: 1;
    }

    /* å°æç¤ºæ–‡å­— */
    .hint-text {
      font-size: 11px;
      color: #9ca3af;
    }
  </style>
</head>
<body>

<!-- é ‚éƒ¨åˆ— -->
<div class="top-bar">
  <div class="top-bar-inner">
    <div class="top-title" id="topTitle">äººå€‘ Â· å¿ƒé‡ XinYou</div>
    <div class="top-right" id="topRightSlot">
      <!-- é€™è£¡æœƒåœ¨ã€Œæˆ‘çš„ã€é é¡¯ç¤ºé½’è¼ªè¨­å®š -->
    </div>
  </div>
</div>

<!-- äººå€‘é  -->
<div class="page active" id="page-people">
  <div class="people-wrapper">
    <div class="people-grid" id="peopleGrid"></div>
    <div class="pager">
      <button class="pager-btn" id="nextBatchBtn">æ›ä¸€æ‰¹çœ‹çœ‹ âœ</button>
    </div>
  </div>
</div>

<!-- è©³ç´°æª”æ¡ˆé  -->
<div class="page" id="page-profileDetail">
  <div id="profileDetailContent"></div>
</div>

<!-- å¥½å‹é  -->
<div class="page" id="page-friends">
  <div class="tabs-row">
    <div class="tab-btn active" data-friendtab="friends">å¥½å‹</div>
    <div class="tab-btn" data-friendtab="sent">é€å‡ºçš„ç”³è«‹</div>
    <div class="tab-btn" data-friendtab="received">æ”¶åˆ°çš„ç”³è«‹</div>
  </div>
  <ul class="list" id="friendsList"></ul>
</div>

<!-- æ’è¡Œæ¦œé  -->
<div class="page" id="page-rank">
  <div class="rank-tabs">
    <div class="rank-tab active" data-ranktab="pop">äººæ°£æ¦œ</div>
    <div class="rank-tab" data-ranktab="receive">æ”¶ç¦®æ¦œ</div>
    <div class="rank-tab" data-ranktab="send">é€ç¦®æ¦œ</div>
  </div>
  <div class="rank-wrapper">
    <div class="card rank-pyramid-card" id="rankPyramid">
      <!-- é€™è£¡ç”± JS å‹•æ…‹ç”¢ç”Ÿé‡‘å­—å¡” -->
    </div>
    <div class="rank-list" id="rankList"></div>
    <div class="rank-note">
      æ’è¡Œæ¦œç›®å‰ç‚ºç¤ºæ„ç‰ˆã€‚æ­£å¼ç‰ˆæœƒä¾ç…§èŠå¤©ã€ç¦®ç‰©ã€äº’å‹•åˆ†æ•¸è¨ˆç®—ã€‚<br />
      No.1 å¯ä»¥è‡ªç”±é¸æ“‡é¡¯ç¤ºç¨±è™Ÿã€ŒKingã€æˆ–ã€ŒQueenã€ã€‚
    </div>
  </div>
</div>

<!-- èŠå¤©é  -->
<div class="page" id="page-chat">
  <div class="chat-wrapper">
    <div class="chat-messages" id="chatMessages">
      <div class="bubble-row">
        <div class="bubble them">
          æ­¡è¿ä¾†åˆ° 1 å° 1 èŠå¤©ã€‚<br />
          ä¹‹å¾Œé€™è£¡æœƒæ¥ä¸ŠçœŸæ­£çš„è¨Šæ¯ç³»çµ±ã€‚
        </div>
      </div>
      <div class="bubble-row me">
        <div class="bubble me">
          ç¾åœ¨å…ˆç•¶ä½œä»‹é¢ Demoï¼Œåœ¨æ‰‹æ©Ÿä¸Šè©¦è©¦çœ‹è¦–è¦ºæ„Ÿå—ã€‚
        </div>
      </div>
    </div>
    <div class="chat-input-bar">
      <input class="chat-input" id="chatInput" placeholder="è¼¸å…¥è¨Šæ¯..." />
      <button class="chat-send-btn" id="chatSendBtn">å‚³é€</button>
    </div>
  </div>
</div>

<!-- æˆ‘çš„æª”æ¡ˆé  -->
<div class="page" id="page-me">
  <div class="profile-header">
    <div class="profile-row-main">
      <div class="profile-avatar">
        <!-- TODO: é€™è£¡æ›æˆã€Œè‡ªå·±çš„é ­åƒã€åœ–ç‰‡è·¯å¾‘ï¼Œä¾‹å¦‚ ./images/me-avatar.png -->
        <img src="https://picsum.photos/200/200?random=99" alt="æˆ‘çš„é ­åƒ" />
      </div>
      <div>
        <div class="profile-name">æˆ‘è‡ªå·± Â· Demo</div>
        <div class="profile-sub" id="myProfileSub">
          å°ç£ Â· 30 æ­²å·¦å³ Â· å·²ä¸Šç·š
        </div>
      </div>
    </div>
  </div>

  <div class="section">
    <div class="section-title">æˆ‘çš„ç‹€æ…‹ï¼ˆåƒä»¥å‰å³æ™‚é€šé‚£æ¨£ï¼‰</div>
    <div class="diary-list">
      <div class="diary-item">
        <div style="margin-bottom:4px;">
          <span style="font-size:12px; color:#374151;">ç›®å‰ç‹€æ…‹ï¼š</span>
          <span id="myStatusBadge" class="status-badge">
            <span class="status-dot"></span><span id="myStatusText">å·²ä¸Šç·š</span>
          </span>
        </div>
        <div style="margin-top:4px; font-size:12px;">
          <label for="statusSelect">ä¿®æ”¹ç‹€æ…‹ï¼š</label>
          <select id="statusSelect">
            <option value="online">å·²ä¸Šç·š</option>
            <option value="busy">å¿™ç¢Œä¸­â€¦</option>
            <option value="eating">ç”¨é¤å»â€¦</option>
            <option value="shower">æ´—æ¾¡ä¸­â€¦</option>
            <option value="away">æš«é›¢ä¸­â€¦</option>
            <option value="offline">é›¢ç·šä¸­</option>
            <option value="chatty">æƒ³èŠå¤©</option>
          </select>
        </div>
        <div class="my-section-note">
          æ­£å¼ç‰ˆæœƒæŠŠé€™å€‹ç‹€æ…‹åŒæ­¥é¡¯ç¤ºåœ¨ã€Œäººå€‘ã€èˆ‡ã€Œå¥½å‹ã€åˆ—è¡¨ã€‚
        </div>
      </div>
    </div>
  </div>

  <div class="section">
    <div class="section-title">å¥½å‹é™å®šçš„å°èªï¼ˆåªæœ‰å¥½å‹çœ‹å¾—åˆ°ï¼‰</div>
    <div class="diary-list">
      <div class="diary-item">
        <div style="font-size:12px; margin-bottom:4px;">
          åœ¨é€™è£¡å¯«ä¸€äº›æ¯”è¼ƒç§äººçš„å¿ƒæƒ…ï¼Œåªè®“å¥½å‹çœ‹å¾—åˆ°ã€‚
        </div>
        <textarea id="friendNoteInput">ä»Šå¤©å¥½é›£éï¼Œå¸Œæœ›èƒ½æœ‰å¥½å¤©æ°£å‡ºç¾ã€‚</textarea>
        <div style="margin-top:6px; font-size:11px; color:#9ca3af;">
          å¥½å‹åˆ—è¡¨é¡¯ç¤ºé è¦½ï¼š
        </div>
        <div id="friendNotePreview" class="item-row3" style="margin-top:4px;">
          <span class="label">å¥½å‹é™å®šï¼š</span>ä»Šå¤©å¥½é›£éï¼Œå¸Œæœ›èƒ½æœ‰å¥½å¤©æ°£å‡ºç¾ã€‚
        </div>
      </div>
    </div>
  </div>

  <div class="section">
    <div class="section-title">æˆ‘çš„æ—¥è¨˜ï¼ˆå…è²»æœ€å¤š 5 ç¯‡ç¤ºæ„ï¼‰</div>
    <div class="diary-list">
      <div class="diary-item">
        <div class="diary-date">2025-12-02</div>
        <div>ä»Šå¤©ç¬¬ä¸€æ¬¡çœ‹åˆ°ã€Œå¿ƒé‡ XinYouã€çš„é››å½¢ï¼Œå¤–è§€æ¯”æƒ³åƒä¸­æ­£å¼ã€‚</div>
      </div>
      <div class="diary-item">
        <div class="diary-date">2025-11-30</div>
        <div>ä¹‹å¾Œå¯èƒ½æœƒåŠ å…¥ç°½åˆ°ã€é€èŠ±ã€æ’è¡Œæ¦œç©åˆ†ï¼Œå…ˆçœ‹çœ‹é››å½¢è·‘èµ·ä¾†çš„æ„Ÿè¦ºã€‚</div>
      </div>
    </div>
  </div>

  <div class="section">
    <div class="section-title">æœå°‹èˆ‡é€šçŸ¥è¨­å®šï¼ˆç¤ºæ„ï¼‰</div>
    <div class="form-list">
      <div class="form-row">
        <div class="form-label">æœå°‹æ€§åˆ¥</div>
        <div class="form-value">å…¨éƒ¨ &gt;</div>
      </div>
      <div class="form-row">
        <div class="form-label">å¹´é½¡å±¤æœ€å°</div>
        <div class="form-value">18 &gt;</div>
      </div>
      <div class="form-row">
        <div class="form-label">å¹´é½¡å±¤æœ€å¤§</div>
        <div class="form-value">40 &gt;</div>
      </div>
      <div class="form-row">
        <div class="form-label">åœ‹å®¶ / åœ°å€</div>
        <div class="form-value">å°ç£ Â· å…¨éƒ¨åœ°å€ &gt;</div>
      </div>
      <div class="form-row">
        <div class="form-label">æ¥å—å¥½å‹ç”³è«‹</div>
        <div class="toggle on"><div class="toggle-knob"></div></div>
      </div>
      <div class="form-row">
        <div class="form-label">èŠå¤©é€šçŸ¥</div>
        <div class="toggle on"><div class="toggle-knob"></div></div>
      </div>
    </div>
    <div class="my-section-note">
      é€™è£¡æœªä¾†æœƒé€£åˆ°çœŸæ­£çš„è¨­å®šé ã€‚ç›®å‰å…ˆç•¶ä½œæ’ç‰ˆç¤ºæ„ã€‚
    </div>
  </div>
</div>

<!-- åº•éƒ¨å°è¦½åˆ— -->
<div class="bottom-nav">
  <div class="nav-item active" data-page="people">
    <!-- TODO: é€™è£¡æ›æˆã€Œäººå€‘ã€åœ–ç¤ºï¼Œä¾‹å¦‚ ./images/nav-people.png -->
    <img class="nav-icon-img" src="https://via.placeholder.com/44?text=P" alt="äººå€‘" />
    <span>äººå€‘</span>
  </div>
  <div class="nav-item" data-page="friends">
    <!-- TODO: é€™è£¡æ›æˆã€Œå¥½å‹ã€åœ–ç¤ºï¼Œä¾‹å¦‚ ./images/nav-friends.png -->
    <img class="nav-icon-img" src="https://via.placeholder.com/44?text=F" alt="å¥½å‹" />
    <span>å¥½å‹</span>
  </div>
  <div class="nav-item" data-page="rank">
    <!-- TODO: é€™è£¡æ›æˆã€Œæ’è¡Œæ¦œã€åœ–ç¤ºï¼Œä¾‹å¦‚ ./images/nav-rank.png -->
    <img class="nav-icon-img" src="https://via.placeholder.com/44?text=R" alt="æ’è¡Œæ¦œ" />
    <span>æ’è¡Œæ¦œ</span>
  </div>
  <div class="nav-item" data-page="chat">
    <!-- TODO: é€™è£¡æ›æˆã€ŒèŠå¤©ã€åœ–ç¤ºï¼Œä¾‹å¦‚ ./images/nav-chat.png -->
    <img class="nav-icon-img" src="https://via.placeholder.com/44?text=C" alt="èŠå¤©" />
    <span>èŠå¤©</span>
  </div>
  <div class="nav-item" data-page="me">
    <!-- TODO: é€™è£¡æ›æˆã€Œæˆ‘çš„ã€åœ–ç¤ºï¼Œä¾‹å¦‚ ./images/nav-me.png -->
    <img class="nav-icon-img" src="https://via.placeholder.com/44?text=Me" alt="æˆ‘çš„" />
    <span>æˆ‘çš„</span>
  </div>
</div>

<script>
  // ==== å‡è³‡æ–™ï¼šäººå€‘åˆ—è¡¨ ====
  const people = [
    {
      id: 1,
      name: "ã‚Šã‚“ã‚Šã‚“",
      ageText: "20 æ­²å¾ŒåŠ",
      desc: "æ—¥èªã€ä¸­åœ‹èªå¯â˜…",
      // TODO: é€™è£¡ä¹‹å¾Œæ”¹æˆæœƒå“¡é ­åƒè·¯å¾‘
      avatar: "https://picsum.photos/300/400?random=1",
      status: "online",
      statusText: "å·²ä¸Šç·š",
      diaries: [
        { date: "2025-11-25", text: "å–œæ­¡èŠå¤©ï¼Œä¹Ÿå–œæ­¡å®‰éœçœ‹æ›¸çš„æ™‚å€™ã€‚" },
        { date: "2025-11-20", text: "æœ€è¿‘è¿·ä¸Šæ•£æ­¥ï¼Œæ­¡è¿ä¸€èµ·èµ°èµ°ã€‚" }
      ]
    },
    {
      id: 2,
      name: "Meow",
      ageText: "30 æ­²åˆåŠ",
      desc: "å…§æœ‰æƒ¡è²“ã€‚",
      avatar: "https://picsum.photos/300/400?random=2",
      status: "eating",
      statusText: "ç”¨é¤å»â€¦",
      diaries: [
        { date: "2025-11-30", text: "ä¸‹ç­éƒ½åœ¨é™ªè²“ï¼Œå¾ˆå°‘å‡ºé–€ï¼Œä½†é‚„æ˜¯æƒ³äº¤æœ‹å‹ã€‚" }
      ]
    },
    {
      id: 3,
      name: "Min",
      ageText: "10 æ­²å¾ŒåŠ",
      desc: "é™¤äº†ç™¼å‘†é‚„æ˜¯ç™¼å‘†ç›´åˆ°è®Šå‘†ã€‚",
      avatar: "https://picsum.photos/300/400?random=3",
      status: "away",
      statusText: "æš«é›¢ä¸­â€¦",
      diaries: []
    },
    {
      id: 4,
      name: "å½±å¯’",
      ageText: "30 æ­²åˆåŠ",
      desc: "å€šæ¬„è½é¢¨é›¨ï¼Œæ·¡çœ‹æ±Ÿæ¹–è·¯ã€‚",
      avatar: "https://picsum.photos/300/400?random=4",
      status: "online",
      statusText: "æƒ³èŠå¤©"
    },
    {
      id: 5,
      name: "é˜¿åˆ",
      ageText: "20 æ­²åˆåŠ",
      desc: "å–œæ­¡éœ²ç‡Ÿã€æ‹ç…§ã€çœ‹æ˜Ÿæ˜Ÿã€‚",
      avatar: "https://picsum.photos/300/400?random=5",
      status: "busy",
      statusText: "å¿™ç¢Œä¸­â€¦"
    },
    {
      id: 6,
      name: "å°è·¯",
      ageText: "30 æ­²å¾ŒåŠ",
      desc: "èµ°åœ¨è·¯ä¸Šéš¨ä¾¿äº‚æƒ³äº‹æƒ…ã€‚",
      avatar: "https://picsum.photos/300/400?random=6",
      status: "shower",
      statusText: "æ´—æ¾¡ä¸­â€¦"
    },
    {
      id: 7,
      name: "Kimi",
      ageText: "20 æ­²åˆåŠ",
      desc: "å–œæ­¡åˆ°è™•åƒåƒå–å–ã€‚",
      avatar: "https://picsum.photos/300/400?random=7",
      status: "online",
      statusText: "å·²ä¸Šç·š"
    },
    {
      id: 8,
      name: "Mori",
      ageText: "40 æ­²å‰å¾Œ",
      desc: "ç†Ÿé½¡äº¤å‹ï¼Œæ…¢æ…¢èŠã€‚",
      avatar: "https://picsum.photos/300/400?random=8",
      status: "away",
      statusText: "é›¢ç·šä¸­"
    }
  ];

  const peopleGridEl = document.getElementById("peopleGrid");
  const nextBatchBtn = document.getElementById("nextBatchBtn");
  const profileDetailPage = document.getElementById("page-profileDetail");
  const profileDetailContent = document.getElementById("profileDetailContent");
  const topTitleEl = document.getElementById("topTitle");
  const topRightSlot = document.getElementById("topRightSlot");

  let currentBatch = [];

  function shuffleArray(arr) {
    const copy = arr.slice();
    for (let i = copy.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [copy[i], copy[j]] = [copy[j], copy[i]];
    }
    return copy;
  }

  function pickRandomBatch() {
    const shuffled = shuffleArray(people);
    currentBatch = shuffled.slice(0, 6);
  }

  function renderPeopleGrid() {
    if (currentBatch.length === 0) {
      pickRandomBatch();
    }
    peopleGridEl.innerHTML = "";
    currentBatch.forEach(p => {
      const card = document.createElement("div");
      card.className = "people-card";
      card.onclick = () => openProfileDetail(p.id);

      const photo = document.createElement("div");
      photo.className = "people-photo";
      photo.innerHTML = `<img src="${p.avatar}" alt="${p.name}" />`;

      const info = document.createElement("div");
      info.className = "people-info";

      const row1 = document.createElement("div");
      row1.className = "people-name-row";

      const nameEl = document.createElement("div");
      nameEl.className = "people-name";
      nameEl.textContent = p.name;

      const ageEl = document.createElement("div");
      ageEl.className = "people-age";
      ageEl.textContent = p.ageText;

      row1.appendChild(nameEl);
      row1.appendChild(ageEl);

      const row2 = document.createElement("div");
      row2.style.marginTop = "3px";

      let statusClass = "status-badge";
      if (p.status === "busy") statusClass += " status-busy";
      if (p.status === "away" || p.status === "offline") statusClass += " status-away";
      if (p.status === "eating") statusClass += " status-eating";
      if (p.status === "shower") statusClass += " status-shower";

      const statusDiv = document.createElement("span");
      statusDiv.className = statusClass;
      statusDiv.innerHTML = `<span class="status-dot"></span><span>${p.statusText || "å·²ä¸Šç·š"}</span>`;

      row2.appendChild(statusDiv);

      const desc = document.createElement("div");
      desc.className = "people-desc";
      desc.textContent = p.desc;

      info.appendChild(row1);
      info.appendChild(row2);
      info.appendChild(desc);

      card.appendChild(photo);
      card.appendChild(info);

      peopleGridEl.appendChild(card);
    });
  }

  nextBatchBtn.addEventListener("click", () => {
    pickRandomBatch();
    renderPeopleGrid();
  });

  function openProfileDetail(id) {
    const p = people.find(x => x.id === id);
    if (!p) return;

    let diariesHtml = "";
    const diaries = p.diaries || [];
    if (diaries.length === 0) {
      diariesHtml = `<div class="diary-list"><div class="diary-item">æš«ç„¡æ—¥è¨˜å…§å®¹ã€‚</div></div>`;
    } else {
      diariesHtml =
        `<div class="diary-list">` +
        diaries
          .map(
            d => `
          <div class="diary-item">
            <div class="diary-date">${d.date}</div>
            <div>${d.text}</div>
          </div>
        `
          )
          .join("") +
        `</div>`;
    }

    let statusClass = "status-badge";
    if (p.status === "busy") statusClass += " status-busy";
    if (p.status === "away" || p.status === "offline") statusClass += " status-away";
    if (p.status === "eating") statusClass += " status-eating";
    if (p.status === "shower") statusClass += " status-shower";
    const statusBadgeHtml = `
      <span class="${statusClass}">
        <span class="status-dot"></span><span>${p.statusText || "å·²ä¸Šç·š"}</span>
      </span>
    `;

    profileDetailContent.innerHTML = `
      <div class="profile-header">
        <div class="profile-row-main">
          <div class="profile-avatar">
            <img src="${p.avatar}" alt="${p.name}" />
          </div>
          <div>
            <div class="profile-name">${p.name}</div>
            <div class="profile-sub">${p.ageText} Â· å°ç£ Â· æš«ç„¡æ›´å¤šä»‹ç´¹</div>
            <div style="margin-top:4px; font-size:12px;">${statusBadgeHtml}</div>
          </div>
        </div>
        <div class="profile-actions">
          <button class="btn">å°é– / åˆªé™¤</button>
          <button class="btn btn-primary" onclick="switchPage('chat')">1 å° 1 èŠå¤©</button>
        </div>
      </div>

      <div class="section">
        <div class="section-title">ç›¸ç°¿ï¼ˆç¤ºæ„ï¼Œå¯ä¹‹å¾Œæ¥è§£é– / å»£å‘ŠåŠŸèƒ½ï¼‰</div>
        <div class="photos-row">
          <div class="photo-thumb"><img src="https://picsum.photos/200/200?random=${id}1" /></div>
          <div class="photo-thumb"><img src="https://picsum.photos/200/200?random=${id}2" /></div>
          <div class="photo-thumb"><img src="https://picsum.photos/200/200?random=${id}3" /></div>
        </div>
      </div>

      <div class="section">
        <div class="section-title">åŸºæœ¬è³‡æ–™</div>
        <table class="info-table">
          <tr><td class="info-key">æš±ç¨±</td><td class="info-value">${p.name}</td></tr>
          <tr><td class="info-key">æ€§åˆ¥</td><td class="info-value">æœªè¨­å®š</td></tr>
          <tr><td class="info-key">å¹´é½¡å±¤</td><td class="info-value">${p.ageText}</td></tr>
          <tr><td class="info-key">åœ‹å®¶</td><td class="info-value">å°ç£</td></tr>
          <tr><td class="info-key">åœ°å€</td><td class="info-value">æœªè¨­å®š</td></tr>
          <tr><td class="info-key">è‡ªæˆ‘ä»‹ç´¹</td><td class="info-value">${p.desc}</td></tr>
        </table>
      </div>

      <div class="section">
        <div class="section-title">è‡ªä»‹æ—¥è¨˜ï¼ˆç¤ºæ„ï¼‰</div>
        ${diariesHtml}
      </div>
    `;

    showPage("profileDetail");
    topTitleEl.textContent = p.name;
    topRightSlot.innerHTML = "";
  }

  // ==== å¥½å‹å‡è³‡æ–™ ====
  const friendsListEl = document.getElementById("friendsList");
  function renderStatusInline(status, text) {
    let cls = "status-badge status-inline";
    if (status === "busy") cls += " status-busy";
    if (status === "away" || status === "offline") cls += " status-away";
    if (status === "eating") cls += " status-eating";
    if (status === "shower") cls += " status-shower";
    return `
      <span class="${cls}">
        <span class="status-dot"></span><span>${text}</span>
      </span>
    `;
  }
  function renderFriendsList(type) {
    friendsListEl.innerHTML = "";
    const mock = [
      {
        name: "layla",
        text: "18 years old nice to meet you^^ I want new friend",
        status: "online",
        statusText: "å·²ä¸Šç·š",
        mood: "ğŸ˜Š",
        friendNote: "ä»Šå¤©å¿ƒæƒ…å¾ˆå¥½ï¼Œæƒ³æ‰¾äººèŠèŠã€‚"
      },
      {
        name: "siro",
        text: "Hello, ã“ã‚“ã«ã¡ã¯ ì•ˆë…•í•˜ì„¸ìš”",
        status: "busy",
        statusText: "å¿™ç¢Œä¸­â€¦",
        mood: "ğŸ˜µ",
        friendNote: "æœ€è¿‘æœ‰é»å¿™ï¼Œä½†çœ‹åˆ°è¨Šæ¯æœƒå›ã€‚"
      },
      {
        name: "Fayette",
        text: "Hello! I'm from Singapore.",
        status: "away",
        statusText: "æš«é›¢ä¸­â€¦",
        mood: "ğŸ˜¢",
        friendNote: "ä»Šå¤©æœ‰é»ä½è½ï¼Œåªæƒ³å®‰éœèŠèŠã€‚"
      }
    ];
    mock.forEach(m => {
      const li = document.createElement("li");
      li.className = "list-item";
      li.innerHTML = `
        <div class="avatar">
          <!-- TODO: æ›æˆå¥½å‹é ­åƒ -->
          <img src="https://picsum.photos/200/200?random=${m.name}" alt="${m.name}" />
        </div>
        <div class="item-main">
          <div class="item-row1">
            <div class="item-row1-left">
              <span class="item-name">${m.name}</span>
              <span class="item-mood">${m.mood || ""}</span>
            </div>
            ${renderStatusInline(m.status, m.statusText)}
          </div>
          <div class="item-row2">${m.text}</div>
          <div class="item-row3">
            <span class="label">å¥½å‹é™å®šï¼š</span>${m.friendNote || "ï¼ˆå°šæœªè¨­å®šï¼‰"}
          </div>
        </div>
      `;
      friendsListEl.appendChild(li);
    });
  }

  // ==== æ’è¡Œæ¦œå‡è³‡æ–™ ====
  const rankPyramidEl = document.getElementById("rankPyramid");
  const rankListEl = document.getElementById("rankList");

  const rankData = {
    pop: [
      { pos: 1, title: "King", name: "Sunny", city: "å°åŒ—", age: "20+", score: 9820, avatar: "https://picsum.photos/200/200?random=201" },
      { pos: 2, title: "Princess", name: "Amy", city: "é«˜é›„", age: "25+", score: 9130, avatar: "https://picsum.photos/200/200?random=202" },
      { pos: 3, title: "Prince", name: "Max", city: "æ–°åŒ—", age: "22+", score: 8990, avatar: "https://picsum.photos/200/200?random=203" },
      { pos: 4, title: "Duke", name: "Lynn", city: "å°ä¸­", age: "23+", score: 8500, avatar: "https://picsum.photos/200/200?random=204" },
      { pos: 5, title: "Duke", name: "Zero", city: "æ¡ƒåœ’", age: "20+", score: 8420, avatar: "https://picsum.photos/200/200?random=205" },
      { pos: 6, title: "Duchess", name: "Mika", city: "å°å—", age: "27+", score: 8300, avatar: "https://picsum.photos/200/200?random=206" },
      { pos: 7, title: "Marquis", name: "é˜¿å“²", city: "æ–°ç«¹", age: "28+", score: 7900, avatar: "https://picsum.photos/200/200?random=207" },
      { pos: 8, title: "Baron", name: "å°è‘‰", city: "åŸºéš†", age: "24+", score: 7600, avatar: "https://picsum.photos/200/200?random=208" }
    ],
    receive: [
      { pos: 1, title: "Queen", name: "Rin", city: "å°åŒ—", age: "21+", score: 10010, avatar: "https://picsum.photos/200/200?random=211" },
      { pos: 2, title: "Princess", name: "Nana", city: "æ–°åŒ—", age: "26+", score: 9200, avatar: "https://picsum.photos/200/200?random=212" },
      { pos: 3, title: "Duke", name: "Ken", city: "é«˜é›„", age: "29+", score: 8800, avatar: "https://picsum.photos/200/200?random=213" },
      { pos: 4, title: "Duchess", name: "Sasa", city: "æ¡ƒåœ’", age: "23+", score: 8400, avatar: "https://picsum.photos/200/200?random=214" }
    ],
    send: [
      { pos: 1, title: "King", name: "Leo", city: "å°ä¸­", age: "30+", score: 11000, avatar: "https://picsum.photos/200/200?random=221" },
      { pos: 2, title: "Prince", name: "Sean", city: "å°åŒ—", age: "24+", score: 9600, avatar: "https://picsum.photos/200/200?random=222" },
      { pos: 3, title: "Duke", name: "Kai", city: "æ–°åŒ—", age: "27+", score: 9000, avatar: "https://picsum.photos/200/200?random=223" },
      { pos: 4, title: "Baron", name: "ç±³ç³•", city: "èŠ±è“®", age: "32+", score: 8200, avatar: "https://picsum.photos/200/200?random=224" }
    ]
  };

  function renderRank(type) {
    const data = rankData[type] || [];
    if (data.length === 0) {
      rankPyramidEl.innerHTML = "<div class='hint-text'>æš«ç„¡æ’åè³‡æ–™</div>";
      rankListEl.innerHTML = "";
      return;
    }

    const king = data[0];
    const second = data[1];
    const third = data[2];
    const others = data.slice(3);

    // é‡‘å­—å¡”å€
    rankPyramidEl.innerHTML = `
      <div class="rank-row">
        <div class="rank-card">
          <div class="rank-badge">
            <span class="icon">ğŸ‘‘</span>
            <span>${king.title}</span>
          </div>
          <div class="rank-avatar-wrap king">
            <div class="rank-avatar">
              <!-- TODO: ç¬¬ä¸€åé ­åƒï¼Œå¯æ›è‡ªå·±çš„åœ–ç‰‡ -->
              <img src="${king.avatar}" alt="${king.name}" />
            </div>
          </div>
          <div class="rank-name">${king.name}</div>
          <div class="rank-sub">${king.city} Â· ${king.age}</div>
        </div>
      </div>
      <div class="rank-row">
        ${
          second
            ? `
          <div class="rank-card">
            <div class="rank-avatar-wrap">
              <div class="rank-avatar medium">
                <img src="${second.avatar}" alt="${second.name}" />
              </div>
            </div>
            <div class="rank-name">${second.name}</div>
            <div class="rank-sub">${second.title} Â· ${second.city}</div>
          </div>
        `
            : ""
        }
        ${
          third
            ? `
          <div class="rank-card">
            <div class="rank-avatar-wrap">
              <div class="rank-avatar medium">
                <img src="${third.avatar}" alt="${third.name}" />
              </div>
            </div>
            <div class="rank-name">${third.name}</div>
            <div class="rank-sub">${third.title} Â· ${third.city}</div>
          </div>
        `
            : ""
        }
      </div>
    `;

    // åˆ—è¡¨å€
    rankListEl.innerHTML = "";
    others.forEach(item => {
      const li = document.createElement("div");
      li.className = "rank-list-item";
      li.innerHTML = `
        <div class="rank-pos">${item.pos}</div>
        <div class="rank-list-avatar">
          <img src="${item.avatar}" alt="${item.name}" />
        </div>
        <div class="rank-list-main">
          <div class="rank-list-name">${item.name} Â· ${item.title}</div>
          <div class="rank-list-sub">${item.city} Â· ${item.age}</div>
        </div>
        <div class="rank-score">${item.score} åˆ†</div>
      `;
      rankListEl.appendChild(li);
    });
  }

  // ==== åº•éƒ¨å°è¦½åˆ‡æ› ====
  const pages = {
    people: document.getElementById("page-people"),
    profileDetail: document.getElementById("page-profileDetail"),
    friends: document.getElementById("page-friends"),
    rank: document.getElementById("page-rank"),
    chat: document.getElementById("page-chat"),
    me: document.getElementById("page-me")
  };

  function showPage(pageName) {
    Object.keys(pages).forEach(k => {
      pages[k].classList.toggle("active", k === pageName);
    });
  }

  function renderTopRightForPage(pageName) {
    topRightSlot.innerHTML = "";
    if (pageName === "me") {
      // æˆ‘çš„æª”æ¡ˆå³ä¸Šè§’é½’è¼ª
      const btn = document.createElement("button");
      btn.className = "icon-button";
      btn.innerHTML = `
        <!-- TODO: é€™è£¡å¯ä»¥æ›æˆè‡ªå·±çš„é½’è¼ª icon åœ–ç‰‡ -->
        <svg class="icon-gear" viewBox="0 0 20 20" fill="none">
          <path d="M9.999 12.5a2.5 2.5 0 1 0 0-5.001 2.5 2.5 0 0 0 0 5z" stroke="#4B5563" stroke-width="1.3" />
          <path d="M15.167 8.583a5.53 5.53 0 0 0-.11-.44l1.16-1.174a.55.55 0 0 0 .09-.648l-1.1-1.905a.55.55 0 0 0-.628-.26l-1.62.49a5.43 5.43 0 0 0-.77-.44l-.25-1.68A.55.55 0 0 0 11.41 2h-2.2a.55.55 0 0 0-.546.46l-.25 1.68a5.42 5.42 0 0 0-.77.44l-1.62-.49a.55.55 0 0 0-.629.26L4.295 5.3a.55.55 0 0 0 .09.649l1.16 1.173c-.05.144-.087.291-.11.441L4.5 8.999a.55.55 0 0 0-.5.546v2.91c0 .29.219.53.5.546l1.935.12c.034.145.077.288.129.429l-1.178 1.24a.55.55 0 0 0-.067.659l1.2 1.856a.55.55 0 0 0 .622.239l1.74-.56c.13.073.263.14.4.2l.27 1.78a.55.55 0 0 0 .545.46h2.2a.55.55 0 0 0 .545-.46l.27-1.78c.137-.06.27-.127.4-.2l1.74.56a.55.55 0 0 0 .622-.239l1.2-1.857a.55.55 0 0 0-.068-.658l-1.177-1.24c.052-.141.095-.284.129-.429l1.935-.12a.55.55 0 0 0 .5-.547v-2.91a.55.55 0 0 0-.5-.546L15.167 8.583z" stroke="#4B5563" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      `;
      btn.addEventListener("click", () => {
        alert("è¨­å®šé¢æ¿ä¹‹å¾Œæœƒæ¥ä¸ŠçœŸæ­£çš„åŠŸèƒ½ï¼ˆç›®å‰ç‚ºç¤ºæ„ï¼‰ã€‚");
      });
      topRightSlot.appendChild(btn);
    }
  }

  function switchPage(pageName) {
    if (pageName === "people") topTitleEl.textContent = "äººå€‘ Â· å¿ƒé‡ XinYou";
    if (pageName === "friends") topTitleEl.textContent = "å¥½å‹";
    if (pageName === "rank") topTitleEl.textContent = "æ’è¡Œæ¦œ";
    if (pageName === "chat") topTitleEl.textContent = "èŠå¤©";
    if (pageName === "me") topTitleEl.textContent = "æˆ‘çš„æª”æ¡ˆ";

    if (pageName !== "profileDetail") {
      showPage(pageName);
    }
    renderTopRightForPage(pageName);
  }

  document.querySelectorAll(".nav-item").forEach(item => {
    item.addEventListener("click", () => {
      const page = item.getAttribute("data-page");
      document.querySelectorAll(".nav-item").forEach(i => i.classList.remove("active"));
      item.classList.add("active");
      switchPage(page);

      if (page === "rank") {
        renderRank(currentRankTab);
      }
    });
  });

  // å¥½å‹é  tab
  document.querySelectorAll("[data-friendtab]").forEach(btn => {
    btn.addEventListener("click", () => {
      document.querySelectorAll("[data-friendtab]").forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
      const type = btn.getAttribute("data-friendtab");
      renderFriendsList(type);
    });
  });

  // æ’è¡Œæ¦œ tab
  let currentRankTab = "pop";
  document.querySelectorAll("[data-ranktab]").forEach(btn => {
    btn.addEventListener("click", () => {
      document.querySelectorAll("[data-ranktab]").forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
      currentRankTab = btn.getAttribute("data-ranktab");
      renderRank(currentRankTab);
    });
  });

  // è¨­å®šé  toggle
  document.querySelectorAll(".toggle").forEach(t => {
    t.addEventListener("click", () => {
      t.classList.toggle("on");
    });
  });

  // èŠå¤©é€å‡ºï¼ˆç¤ºæ„ï¼‰
  const chatMessagesEl = document.getElementById("chatMessages");
  const chatInputEl = document.getElementById("chatInput");
  const chatSendBtn = document.getElementById("chatSendBtn");
  function sendChat() {
    const text = chatInputEl.value.trim();
    if (!text) return;
    const row = document.createElement("div");
    row.className = "bubble-row me";
    row.innerHTML = `<div class="bubble me">${text}</div>`;
    chatMessagesEl.appendChild(row);
    chatInputEl.value = "";
    chatMessagesEl.scrollTop = chatMessagesEl.scrollHeight;
  }
  chatSendBtn.addEventListener("click", sendChat);
  chatInputEl.addEventListener("keydown", e => {
    if (e.key === "Enter") {
      e.preventDefault();
      sendChat();
    }
  });

  // æˆ‘çš„ç‹€æ…‹ä¸‹æ‹‰
  const statusSelect = document.getElementById("statusSelect");
  const myStatusBadge = document.getElementById("myStatusBadge");
  const myStatusText = document.getElementById("myStatusText");
  const myProfileSub = document.getElementById("myProfileSub");
  function updateMyStatus() {
    const val = statusSelect.value;
    let text = "å·²ä¸Šç·š";
    let cls = "status-badge";

    if (val === "online") { text = "å·²ä¸Šç·š"; }
    if (val === "busy") { text = "å¿™ç¢Œä¸­â€¦"; cls += " status-busy"; }
    if (val === "eating") { text = "ç”¨é¤å»â€¦"; cls += " status-eating"; }
    if (val === "shower") { text = "æ´—æ¾¡ä¸­â€¦"; cls += " status-shower"; }
    if (val === "away") { text = "æš«é›¢ä¸­â€¦"; cls += " status-away"; }
    if (val === "offline") { text = "é›¢ç·šä¸­"; cls += " status-away"; }
    if (val === "chatty") { text = "æƒ³èŠå¤©"; }

    myStatusBadge.className = cls;
    myStatusText.textContent = text;
    myProfileSub.textContent = `å°ç£ Â· 30 æ­²å·¦å³ Â· ${text}`;
  }
  statusSelect.addEventListener("change", updateMyStatus);

  // å¥½å‹é™å®šå°èªåŒæ­¥é è¦½
  const friendNoteInput = document.getElementById("friendNoteInput");
  const friendNotePreview = document.getElementById("friendNotePreview");
  function updateFriendNotePreview() {
    const t = friendNoteInput.value.trim() || "ï¼ˆå°šæœªè¨­å®šï¼‰";
    friendNotePreview.innerHTML = `<span class="label">å¥½å‹é™å®šï¼š</span>${t}`;
  }
  friendNoteInput.addEventListener("input", updateFriendNotePreview);

  // ==== åˆå§‹åŒ– ====
  pickRandomBatch();
  renderPeopleGrid();
  renderFriendsList("friends");
  updateMyStatus();
  updateFriendNotePreview();
  renderTopRightForPage("people");
  renderRank("pop");
</script>

</body>
</html>
